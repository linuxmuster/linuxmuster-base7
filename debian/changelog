linuxmuster-base7 (7.2.15-0) lmn72; urgency=low

  * fix cert bundle renewal & empty cert list (#158).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 25 Apr 2025 12:12:45 +0200

linuxmuster-base7 (7.2.14-0) lmn72; urgency=low

  * fix boolean in ast cause subnetting import to fail (#161).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 22 Apr 2025 14:05:59 +0200

linuxmuster-base7 (7.2.13-0) lmn72; urgency=low

  * fix skip firewall setup (226377b).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 17 Apr 2025 10:00:47 +0200

linuxmuster-base7 (7.2.12-0) lmn72; urgency=low

  * fix invalid days variable during ssl setup (#160).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 16 Apr 2025 15:38:39 +0200

linuxmuster-base7 (7.2.11-0) lmn72; urgency=low

  * fix return code of boolean setup values (b3f1a67).
  * optimize base64 certificate conversion (#158, 80effd6).
  * add subjectAltName to certificate creation config (#158, 0d90f5e).
  * postinst: update certificate configs (#158, 16a1df9).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 09 Apr 2025 19:50:56 +0200

linuxmuster-base7 (7.2.10-0) lmn72; urgency=low

  * fix references to environment (3b8d817).
  * fix #158; final revision of the certificate renewal script.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 31 Mar 2025 19:52:00 +0200

linuxmuster-base7 (7.2.9-0) lmn72; urgency=low

  * reimplement certificates renewal script with python (d5abc8d, 4e22410, 27f5877).
  * allow opnsense version 25.* (ad674c1).
  * add python function catFiles (97e4806).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sun, 30 Mar 2025 22:02:47 +0200

linuxmuster-base7 (7.2.8-0) lmn72; urgency=low

  * add certificate renewal script (7a76373, 31a3637).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 29 Mar 2025 14:28:41 +0100

linuxmuster-base7 (7.2.7-0) lmn72; urgency=low

  * fix possibly broken python3-debian package (839db15).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 17 Mar 2025 12:14:00 +0100

linuxmuster-base7 (7.2.6-0) lmn72; urgency=low

  * remove lmn72-testing repo from release upgrade script (7ab31cd).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 15 Mar 2025 15:13:00 +0100

inuxmuster-base7 (7.2.5-0) lmn72; urgency=low

  * Fix disabling systemd-resolved (f62a7db).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 30 Jan 2025 21:43:40 +0100

linuxmuster-base7 (7.2.4-0) lmn72; urgency=low

  * Fix postinst installation of pip packages (4767558).
  * Implement release upgrade script (#155).
  * Merge pull request #154:
    Bump actions/download-artifact from 2 to 4.1.7 in /.github/workflows.
  * Merge pull request #153 from hermanntoast:
    Add school parameter for hook scripts

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 30 Jan 2025 19:06:10 +0100

linuxmuster-base7 (7.2.3-0) lmn72; urgency=low

  * Fix #150: Update ignores skipfw = True, remove deprecated postinst code (203f4fc).
  * change initial opnsense unbound configuration to use system nameservers per default (cfeecc9).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 21 Feb 2024 11:52:36 +0100

linuxmuster-base7 (7.2.2-0) lmn72; urgency=low

  * refactor ssh key creation (492f9a1).
  * refactor ssl certs creation (9e61b17).
  * establish setup compatibility with opnsense 24.1.*,
    use dns0.eu child protection dns servers per default (6de6c58).
  * remove deprecated code from setup (05df6b7).
  * fix firewall web proxy sso keytab creation (10f7bb3).
  * add ability to hide command options in subProc() (fd8e99b).
  * don't log admin password on keytab creation (3702efa).
  * linuxmuster-import-devices:
    - subprocess improvements (95e27be).
    - fix console output (cc60379).
  * fix netplan file permissions (8332294).
  * check firewall major version before setup changes anything (ca48d4f).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 19 Feb 2024 18:30:03 +0100

linuxmuster-base7 (7.2.1-0) lmn72; urgency=low

  * fix firewall sshkey & gateway setup (496049a).
  * change codename to "production" (84f0461).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 10 Feb 2024 15:09:37 +0100

linuxmuster-base7 (7.2.0-rc13) lmn72; urgency=low

  * introducing new environment variables LINBOSYSDIR and LINBOVARDIR (7687b40).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 14 Oct 2023 12:32:13 +0200

linuxmuster-base7 (7.2.0-rc12) lmn72; urgency=low

  * allow trailing 0 in host ip address (1570f07).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 01 Sep 2023 15:15:58 +0200

linuxmuster-base7 (7.2.0-rc11) lmn72; urgency=low

  * postinst: fix permissions of samba's ntp socket directory (f84835a).
  * linuxmuster-import-subnets: use gateway ip from setup.ini rather than firewall ip (fa83151).
  * change codename to "release candidate" (8b86c6d).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 01 Aug 2023 11:11:55 +0200

linuxmuster-base7 (7.2.0-rc10) lmn72; urgency=low

  * added netplan gateway fix to linuxmuster-import-subnets (a206eac).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 28 Jul 2023 18:47:49 +0200

linuxmuster-base7 (7.2.0-rc9) lmn72; urgency=low

  * revert netplan fix (b50a4ed).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 27 Jul 2023 13:11:00 +0200

linuxmuster-base7 (7.2.0-rc8) lmn72; urgency=low

  * Remove netplan update in linuxmuster-import-subnets (4866dc9).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 25 Jul 2023 21:37:00 +0200

linuxmuster-base7 (7.2.0-rc7) lmn72; urgency=low

  * Changed codename to beta-release (8741a6d).
  * Add activation of opentracker service to setup (7faae82).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 11 May 2023 19:08:13 +0200

linuxmuster-base7 (7.2.0-rc6) lmn72; urgency=low

  * Merge #146: Write groupname in dhcp-server nis-domain option as well (b586138).
  * Merge #147: Add sophomorix-user-custom for students (00e923e).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 12 Jan 2023 20:37:00 +0100

linuxmuster-base7 (7.2.0-rc5) lmn72; urgency=low

  *  Fix NTPSOCKDIR permissions in setup (#144).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 20 Sep 2022 18:28:00 +0200

linuxmuster-base7 (7.2.0-rc4) lmn72; urgency=low

  *  add ntpd apparmor config template (#144).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 12 Sep 2022 19:22:00 +0200

linuxmuster-base7 (7.2.0-rc3) lmn72; urgency=low

  * Fix ntp socket directory (abddebf, 930a9da, 414cd02).
  * Fix lmn-prepare invokation in setup (7d50c9e).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 10 Sep 2022 14:13:00 +0200

linuxmuster-base7 (7.2.0-rc2) lmn72; urgency=low

  * Merge pull request #143 from linuxmuster/fix-sudoers (f2d2e8e).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 05 Sep 2022 18:50:45 +0200

linuxmuster-base7 (7.2.0-rc1) lmn72; urgency=low

  * Merge pull request #141 from PLanB2008/master (71d28e4).
  * Merge pull request #142 from linuxmuster/nolog-sophpass (60f7f32).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 30 Jul 2022 13:44:00 +0200

linuxmuster-base7 (7.2.0-rc0) lmn72; urgency=low

  * add webui to dependencies again (4e8c1c4).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 25 Jun 2022 16:55:00 +0200

linuxmuster-base7 (7.2.0-alpha0) lmn72; urgency=low

  * remove webui from dependencies temporarily (56605cc).
  * Set compatibility level to 10 (fee4984).
  * Fix krb5.conf patch (ecb4272, e702fea).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 22 Jun 2022 15:14:30 +0200

linuxmuster-base7 (7.1.12-0) lmn71; urgency=low

  * Remove dependency to python3-reconfigure, install it with pip instead (eb94392).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 20 Jun 2022 20:41:00 +0200

linuxmuster-base7 (7.1.11-0) lmn71; urgency=low

  * Fix don't accept $ in passwords.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 03 Jun 2022 15:16:49 +0200

linuxmuster-base7 (7.1.10-0) lmn71; urgency=low

  * Fix #139: Old version of paramiko for 18.04.
  * Merge #125: Fix device specific links.
  * linuxmuster-opnsense-reset:
    - add sleep time option [-s|--sleep] to wait after firewall restart and
      before keytab creation (default 10s).
    - changed os.system to subprocess.
  * don't accept $ in passwords.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 01 Jun 2022 21:18:22 +0200

linuxmuster-base7 (7.1.9-0) lmn71; urgency=low

  * linuxmuster-opnsense-reset: create firewall cert if not there.
  * change codename to 'release'.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 31 May 2022 16:46:00 +0200

linuxmuster-base7 (7.1.8-0) lmn71; urgency=low

  * linuxmuster-holiday:
    - Add option parser and help.
    - Add multischool support.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 2 Mar 2022 20:17:00 +0100

linuxmuster-base7 (7.1.7-0) lmn71; urgency=low

  * Fix #136: linuxmuster-opnsense-reset fails.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 10 Feb 2022 18:37:29 +0000

linuxmuster-base7 (7.1.6-0) lmn71; urgency=low

  * linuxmuster-holiday: Handle empty holidays config file.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sun, 06 Feb 2022 11:23:14 +0000

linuxmuster-base7 (7.1.5-0) lmn71; urgency=low

  * Refactored functions.py & linuxmuster-import-devices (#129).
  * merged #135 linuxmuster-holiday.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 05 Feb 2022 10:12:51 +0000

linuxmuster-base7 (7.1.4-0) lmn71; urgency=low

  * Refactoring setup code (#129).
  * Fix #133: empty logfile throws error in sambaTool function.
  * Fix #134: dhcpd-update-samba-dns.py increases server load.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 19 Jan 2022 17:37:55 +0000

linuxmuster-base7 (7.1.3-0) lmn71; urgency=low

  * Fix #130: secure admin password entered during setup.
  * Fix lmn71-prepare invokation during setup.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 28 Dec 2021 11:30:26 +0000

linuxmuster-base7 (7.1.2-0) lmn71; urgency=low

  * Fix #126: /etc/profile.d/Z99-linuxmuster.sh icanhazip.com blocked by Belwue Filter.
  * Fix #127: remove finally all deprecated docker, mail and opsi setup code.
  * Fix #128: OPNSense Certificate Problem.
  * further function & setup fixes and improvements.
  * linuxmuster-opnsense-reset: fix waiting for firewall.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 21 Dec 2021 15:59:54 +0000

linuxmuster-base7 (7.1.1-1) lmn71; urgency=low

  * fixed changelog timezone.
  * exclude .github directory from source package.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 27 Nov 2021 18:15:00 +0100

linuxmuster-base7 (7.1.1-0) lmn71; urgency=low

  * fix console message time format.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 25 Nov 2021 23:10:00 +0100

linuxmuster-base7 (7.1.0-0) lmn71; urgency=low

  * lmn71 prerelease.
  * workflow implementation.
  * remove docker, mail & opsi setup.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 25 Nov 2021 13:57:00 +0100

linuxmuster-base7 (7.0.83-0ubuntu0) lmn7; urgency=low

  * introduces new global variable LINBOIMGDIR.
  * linuxmuster-import-devices skips group specific start.conf links for linuxmuster-linbo >= 4
    (according to https://github.com/linuxmuster/linuxmuster-linbo7/issues/12).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 31 Jul 2021 13:01:47 +0000

linuxmuster-base7 (7.0.82-0ubuntu0) lmn7; urgency=low

  * merge #117: Add functionality for multi-school installations.
  * merge #119: Fix dhcp in multi schools and add maintenance table.
  * fix #122: Error in import-devices.
  * replace os.system with subprocess in linuxmuster-import-devices (#121).
  * Fix #118: Remove linux-login.script.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 09 Jun 2021 13:49:08 +0000

linuxmuster-base7 (7.0.81-0ubuntu0) lmn7; urgency=low

  * fix #115: create also a reverse dns entry for dynamic dhcp clients.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 24 Mar 2021 15:09:31 +0100

linuxmuster-base7 (7.0.80-0ubuntu0) lmn7; urgency=low

  * functions.py, getGrubOstype(): improved grub ostype recognition for linuxmuster-import-devices.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 27 Nov 2020 18:41:09 +0100

linuxmuster-base7 (7.0.79-1ubuntu0) lmn7; urgency=low

  * postinst timesyncd.conf fix due to ubuntu 20.04 compatibility.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 26 Nov 2020 20:25:08 +0100

linuxmuster-base7 (7.0.79-0ubuntu0) lmn7; urgency=low

  * removed smb.conf and ntp.conf update from postinst.
  * readded "ntlm auth = mschapv2-and-ntlmv2-only" needed for wpa2 enterprise to smb.conf template.
  * removed useless templates ntp.conf.admin and ntp.conf.dist.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 11 Sep 2020 14:00:33 +0200

linuxmuster-base7 (7.0.78-2ubuntu0) lmn7; urgency=low

  * postinst fix.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 18 Aug 2020 16:42:22 +0200

linuxmuster-base7 (7.0.78-1ubuntu0) lmn7; urgency=low

  * rebuild.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 18 Aug 2020 16:22:01 +0200

linuxmuster-base7 (7.0.78-0ubuntu0) lmn7; urgency=low

  * final fix #110 (Lac de Narlay version): changed ntp signd socket directory
    to "/run/samba/ntp_signd" using @garblixa's version of ntp.conf.
  * added includefile "/etc/ntp.conf.admin" to "/etc/ntp.conf" for custom settings.
  * added "/etc/ntp.conf.dist" to document default ntp settings.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 18 Aug 2020 16:14:45 +0200

 linuxmuster-base7 (7.0.77-0ubuntu0) lmn7; urgency=low

   * fix #110  (finally): linuxmuster setup prevents NT5DS from working.

  -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 17 Aug 2020 09:02:32 +0200

linuxmuster-base7 (7.0.76-1ubuntu0) lmn7; urgency=low

  * fixed "ntp signd socket directory" in smb.conf (#110).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sun, 16 Aug 2020 22:07:24 +0200

linuxmuster-base7 (7.0.76-0ubuntu0) lmn7; urgency=low

  * added "ntlm auth = mschapv2-and-ntlmv2-only" needed for wpa2 enterprise to smb.conf.
  * fix #111: colon is used as a delimiter by python's configparser.
  * fix #110: linuxmuster setup prevents NT5DS from working.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sun, 16 Aug 2020 11:15:14 +0200

linuxmuster-base7 (7.0.75-1ubuntu0) lmn7; urgency=low

  * fixed smb.conf handling during setup in conjunction with #100, #105 and #107.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 22 Jul 2020 14:12:50 +0200

linuxmuster-base7 (7.0.75-0ubuntu0) lmn7; urgency=low

  * fixed smb.conf handling during setup in conjunction with #100, #105 and #100.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 22 Jul 2020 13:52:23 +0200

linuxmuster-base7 (7.0.74-0ubuntu0) lmn7; urgency=low

  * fix #107: dns forwarder ip misses in smb.conf.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 22 Jul 2020 09:15:59 +0200

linuxmuster-base7 (7.0.73-0ubuntu0) lmn7; urgency=low

  * fix #106: OPNsense Freeradius LDAP user filter optimized.
  * fix #105: Remove slow name resolution in sudo env.
  * fix #104: Added sudoers entry for sophomorix-user for teacher role.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 21 Jul 2020 11:54:52 +0200

linuxmuster-base7 (7.0.72-0ubuntu0) lmn7; urgency=low

  * fix #100: smb.conf faulty.
  * fix #103: import-devices fails in some circumstances when using opsi.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 08 Jul 2020 18:19:50 +0200

linuxmuster-base7 (7.0.71-0ubuntu0) lmn7; urgency=low

  * functions-py: removed verify of ssl certificate from firewallApi(), fixes perhaps #101.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 23 Jun 2020 18:13:49 +0200

linuxmuster-base7 (7.0.70-0ubuntu0) lmn7; urgency=low

  * fix #99: server should be type addc.
  * fix #98: function to get broadcast address of certain ip.
  * fix #97: opsi uefi dhcp configuration.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 27 May 2020 20:20:46 +0200

linuxmuster-base7 (7.0.69-0ubuntu0) lmn7; urgency=low

  * fixed getting state of services after restart in import scripts (see #93).
  * fix #82: change SCHOOL_LONGNAME in sophomorix' school.conf during setup.
  * more error verbosity in setup scripts.
  * performance improvements for dhcp events hooks.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 18 Apr 2020 21:42:56 +0200

linuxmuster-base7 (7.0.68-0ubuntu0) lmn7; urgency=low

  * performance improvements for dhcṕ-samba-dns-update script.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 17 Apr 2020 13:32:56 +0200

linuxmuster-base7 (7.0.67-0ubuntu0) lmn7; urgency=low

  * webui-sudoers update.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 16 Apr 2020 21:05:08 +0200

linuxmuster-base7 (7.0.66-0ubuntu0) lmn7; urgency=low

  * events.conf template path fix.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 16 Apr 2020 10:32:13 +0200

linuxmuster-base7 (7.0.65-0ubuntu0) lmn7; urgency=low

  * merged #94 Allow nested Groups from @mcazautet (smb.conf options).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 16 Apr 2020 10:08:08 +0200

linuxmuster-base7 (7.0.64-3ubuntu0) lmn7; urgency=low

  * postinst: skip fixes on unconfigured systems.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 16 Apr 2020 09:43:31 +0200

linuxmuster-base7 (7.0.64-2ubuntu0) lmn7; urgency=low

  * added apparmor service restart to setup's final tasks.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 15 Apr 2020 21:58:27 +0200

linuxmuster-base7 (7.0.64-1ubuntu0) lmn7; urgency=low

  * Fix #30: manage devices without fixed ip on import.
  * sambaTool improvements.
  * permissions improvements.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 15 Apr 2020 21:58:27 +0200

linuxmuster-base7 (7.0.63-1ubuntu0) lmn7; urgency=low

  * zshell fix for defaults.sh.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 08 Apr 2020 14:44:08 +0200

linuxmuster-base7 (7.0.62-1ubuntu0) lmn7; urgency=low

  * renamed manpage file devices.csv.de.5 ->  devices.csv.5.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 08 Apr 2020 14:44:08 +0200

linuxmuster-base7 (7.0.62-0ubuntu0) lmn7; urgency=low

  * devices.csv manpage update.
  * Fix #92: add missing root kernel append parameter in grub.cfg during devices import.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 08 Apr 2020 14:09:54 +0200

linuxmuster-base7 (7.0.61-0ubuntu0) lmn7; urgency=low

  * added console banner.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sun, 05 Apr 2020 16:49:24 +0200

linuxmuster-base7 (7.0.60-0ubuntu0) lmn7; urgency=low

  * merged branch import-reworked into master.
    - further consolidation of import scripts.
    - allow public ips in devices.csv.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 04 Apr 2020 14:25:50 +0200

linuxmuster-base7 (7.0.59-0ubuntu0) lmn7; urgency=low

  * reworked import scripts.
  * fixed missing start.conf links regression.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 03 Apr 2020 19:56:51 +0200

linuxmuster-base7 (7.0.58-0ubuntu0) lmn7; urgency=low

  * fix #91: second attempt fixing sudoers file.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 27 Mar 2020 17:59:30 +0100

linuxmuster-base7 (7.0.57-0ubuntu0) lmn7; urgency=low

  * fix #91: Group and user isolation for Webui/Sophomorix.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 25 Mar 2020 16:18:23 +0100

linuxmuster-base7 (7.0.56-0ubuntu0) lmn7; urgency=low

  * merged pr #90 from kiarn.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 25 Mar 2020 16:18:23 +0100

linuxmuster-base7 (7.0.55-0ubuntu0) lmn7; urgency=low

  * renamed template 50-linuxmuster.auth.conf to 50-linuxmuster.pre-auth.conf.
  * 50-linuxmuster.pre-auth.conf: removed -s parameter in addition to #83 (thanx
    to garblixa for the hint).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 13 Mar 2020 11:33:01 +0100

linuxmuster-base7 (7.0.54-0ubuntu0) lmn7; urgency=low

  * Fix #83: second attempt, adding kerberos ldap internet group query to squid configuration.
  * New script linuxmuster-opnsense-reset resets the fw to the state after setup.
  * Various setup improvements.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 12 Mar 2020 09:12:42 +0100

linuxmuster-base7 (7.0.53-0ubuntu0) lmn7; urgency=low

  * Fix #88, ntp service on server is dead after reboot.
  * removed timesyncd.conf template.
  * postinst: suppress warning about missing test file.
  * improved setup.ini handling.
  * firewall setup improvements, ia:
    - creation of web proxy sso key table is now automated per api.
    - installing os-api-backup extension additionally.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 09 Mar 2020 17:01:38 +0100

linuxmuster-base7 (7.0.52-0ubuntu0) lmn7; urgency=low

  * Fix #85, creating pgmadmin during setup with default admin password.
  * Fix #87, creating gpo for default school.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 07 Mar 2020 22:26:55 +0100

linuxmuster-base7 (7.0.51-0ubuntu0) lmn7; urgency=low

  * Fix #86: added sudo users student & teacher.
  * Fix #77: Removed remnant files in /etc/linuxmuster.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 07 Mar 2020 21:08:58 +0100

linuxmuster-base7 (7.0.50-0ubuntu0) lmn7; urgency=low

  * postinst: improved recognition of already configured opnsense firewall.
  * setup:
    - improved setup.ini handling for additional vms, setup.ini remains
      permanently under /var/lib/linuxmuster/setup.ini and contains binduser
      secret.
    - improved mail container setup.
    - smtp port number can be appended with colon separated (eg.
      mail.example.com:587). If the port number is omitted the default port 25
      is used.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 07 Mar 2020 14:14:31 +0100

linuxmuster-base7 (7.0.49-1ubuntu0) lmn7; urgency=low

  * postinst: added firewall ssh connection check.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 02 Mar 2020 20:00:48 +0100

linuxmuster-base7 (7.0.49-0ubuntu0) lmn7; urgency=low

  * Fix #83: decrease value of credentialsttl to 1 minute in opnsense's web-proxy
    configuration to make internet blocking of users effective.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 27 Feb 2020 13:05:37 +0100

linuxmuster-base7 (7.0.48-0ubuntu0) lmn7; urgency=low

  * Remove schoolname handling from i_samba-provisioning.py (reopens #82).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 27 Feb 2020 13:05:37 +0100

linuxmuster-base7 (7.0.47-0ubuntu0) lmn7; urgency=low

  * Fix #82: During setup schoolname is written by i_samba-provisioning.py to
    sophomorix' school.conf. Original file is backed up to school.conf.dist.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 26 Feb 2020 18:03:58 +0100

linuxmuster-base7 (7.0.46-0ubuntu0) lmn7; urgency=low

  * Fix #62: implemented linuxmuster-import-devices post hook scripts. Scripts
    can be placed in /var/lib/linuxmuster/hooks/device-import.post.d. Command's
    output will be printed, return code is ignored.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 26 Feb 2020 14:44:43 +0100

linuxmuster-base7 (7.0.45-0ubuntu0) lmn7; urgency=low

  * Fix #78: enable time server services.
  * add linuxmuster-modini python script for easy ini file manipulation.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 04 Dec 2019 17:07:52 +0100

linuxmuster-base7 (7.0.44-0ubuntu0) lmn7; urgency=low

  * functions.py, getGrubPart(): nvme grub disk numbering fix (#76).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 08 Oct 2019 21:19:20 +0200

linuxmuster-base7 (7.0.43-0ubuntu0) lmn7; urgency=low

  * Fix #75, linuxmuster-setup: Handle special chars ($, %) in passwords.
  * Minor fix in e_fstab.py concerning to missing import sys.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 16 Sep 2019 15:55:06 +0200

linuxmuster-base7 (7.0.42-0ubuntu0) lmn7; urgency=low

  * Fix  #74: Typo in setup.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 22 Jul 2019 22:21:35 +0200

linuxmuster-base7 (7.0.41-0ubuntu0) lmn7; urgency=low

  * added opnsense freeradius configuration setup.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 22 Jul 2019 22:21:35 +0200

linuxmuster-base7 (7.0.40-0ubuntu0) lmn7; urgency=low

  * fixed getHostname() in functions.py.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 09 Jul 2019 21:11:49 +0200

linuxmuster-base7 (7.0.39-0ubuntu0) lmn7; urgency=low

  * added cups entries in smb.conf template.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 08 Apr 2019 19:36:21 +0200

linuxmuster-base7 (7.0.38-0ubuntu0) lmn7; urgency=low

  * Fix #65: smbclient fails during setup without internet connection.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 08 Apr 2019 19:36:21 +0200

linuxmuster-base7 (7.0.37-0ubuntu0) lmn7; urgency=low

  * Fix #64: Computer is not a valid role in sophomorix anymore.
  * Fix #67: Hostname or servername?.
  * Fix #68: default-school share param.
  * updated cupsd.conf template to allow remote administration.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 26 Mar 2019 23:03:35 +0100

linuxmuster-base7 (7.0.36-0ubuntu0) lmn7-testing; urgency=low

  * Fix #66: Adapt server ip value in all start.conf examples through setup.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 25 Mar 2019 14:07:33 +0100

linuxmuster-base7 (7.0.35-0ubuntu0) lmn7-testing; urgency=low

  * set ldap server require strong auth = no in smb.conf template.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 23 Mar 2019 13:35:49 +0100

linuxmuster-base7 (7.0.34-0ubuntu0) lmn7-testing; urgency=low

  * fixed interfaces in firewall setup.
  * removed https portforwarding rule from firewall config template.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 20 Mar 2019 15:29:03 +0100

linuxmuster-base7 (7.0.33-0ubuntu0) lmn7-testing; urgency=low

  * set ldap server require strong auth = yes in smb.conf template.
  * added serial console definition to opnsense config template.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 20 Mar 2019 09:54:43 +0100

linuxmuster-base7 (7.0.32-0ubuntu0) lmn7-testing; urgency=low

  * enabling mail service during setup.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 12 Mar 2019 18:36:04 +0100

linuxmuster-base7 (7.0.31-0ubuntu0) lmn7-testing; urgency=low

  * Removed idmap entries from smb.conf template (#61).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 08 Feb 2019 16:35:17 +0100

linuxmuster-base7 (7.0.30-0ubuntu0) lmn7-testing; urgency=low

  * fixed firewall template for noproxy group (#58).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 18 Jan 2019 20:39:46 +0100

linuxmuster-base7 (7.0.29-0ubuntu0) lmn7-testing; urgency=low

  * added comment to admins added by setup (#50).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sun, 13 Jan 2019 16:28:25 +0100

linuxmuster-base7 (7.0.28-0ubuntu0) lmn7-testing; urgency=low

  * fixed space in schoolname cased error on ssl certificate creation (#52, #48).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sun, 13 Jan 2019 14:05:20 +0100

linuxmuster-base7 (7.0.27-0ubuntu0) lmn7-testing; urgency=low

  * fixed m_firewall.py, readd missing beautifulsoup.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 12 Jan 2019 13:58:32 +0100

linuxmuster-base7 (7.0.26-0ubuntu0) lmn7-testing; urgency=low

  * fixed #20 finally.
  * minor code cleanup.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 12 Jan 2019 12:31:45 +0100

linuxmuster-base7 (7.0.25-0ubuntu0) lmn7-testing; urgency=low

  * removed linuxmuster-webui7 reconfigure from setup's z_final.py.
  * improved setup's output of ssh connection test.
  * fixed password quoting in j_samba-users.py.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 11 Jan 2019 17:37:19 +0100

linuxmuster-base7 (7.0.24-0ubuntu0) lmn7-testing; urgency=low

  * device import: fix grub.cfg creation.
  * fixes and improvements on subnets handling.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 10 Dec 2018 23:05:27 +0100

linuxmuster-base7 (7.0.23-0ubuntu0) lmn7-testing; urgency=low

  * linuxmuster-import-subnets: fix vanished custom nat rules.
  * fix "No connection to SAMBA4 AD because of missing cert" (#52).
  * fix skip-fw setup option.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 04 Dec 2018 21:53:01 +0100

linuxmuster-base7 (7.0.22-0ubuntu0) lmn7-testing; urgency=low

  * removed windows and linux login script examples (#51).
  * firewall config fixes and improvements.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sun, 02 Dec 2018 15:22:52 +0100

linuxmuster-base7 (7.0.21-0ubuntu0) lmn7-testing; urgency=low

  * firewall language settings optimations (#40).
  * fixed ssh connection in firewall setup.
  * added firewall nat rules examples.
  * expanded script path with default-school in windows and linux login script examples.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 28 Nov 2018 17:22:57 +0100

linuxmuster-base7 (7.0.20-0ubuntu0) lmn7-testing; urgency=low

  * reconfiguring webui package at the end of setup (#49).
  * added a NoProxy group with first ten ip addresses of network to firewall (#47).
  * restore original language setting of firewall during setup (#40).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 27 Nov 2018 19:25:02 +0100

linuxmuster-base7 (7.0.19-0ubuntu0) lmn7-testing; urgency=low

  * setup, add_server: better fix wait for ping.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 24 Nov 2018 23:27:00 +0100

linuxmuster-base7 (7.0.18-0ubuntu0) lmn7-testing; urgency=low

  * setup, samba-provisioning: samba services fix (see #31 & #32).
  * setup, add_server: fix wait for ping.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 24 Nov 2018 21:47:39 +0100

linuxmuster-base7 (7.0.17-0ubuntu0) lmn7-testing; urgency=low

  * setup: fix default opsi and docker ips in lan firewall rules.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 24 Nov 2018 20:20:28 +0100

linuxmuster-base7 (7.0.16-0ubuntu0) lmn7-testing; urgency=low

  * setup: add server entry in devices.csv (#43).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 19 Nov 2018 13:26:45 +0100

linuxmuster-base7 (7.0.15-0ubuntu0) lmn7-testing; urgency=low

  * postinst: cacert.pem copy fix.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 09 Nov 2018 20:40:22 +0100

linuxmuster-base7 (7.0.14-0ubuntu0) lmn7-testing; urgency=low

  * updated copyright file.
  * providing copy of cacert.pem in /var/lib/samba/@@domainname@@/tls for clients.
  * added sample logon scripts for windows and linux clients.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 31 Oct 2018 17:26:45 +0100

linuxmuster-base7 (7.0.13-0ubuntu0) lmn7-testing; urgency=low

  * renew sophomorix.conf during setup.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 09 Oct 2018 13:23:33 +0200

linuxmuster-base7 (7.0.12-0ubuntu0) lmn7-testing; urgency=low

  * remove script path attribute in example users script.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 08 Oct 2018 19:54:51 +0200

linuxmuster-base7 (7.0.11-0ubuntu0) lmn7-testing; urgency=low

  * fix default-school school.conf during setup.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 02 Oct 2018 15:26:24 +0200

linuxmuster-base7 (7.0.10-0ubuntu0) lmn7-testing; urgency=low

  * fix example user password.
  * removed school.conf template (#33).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 04 Sep 2018 10:23:27 +0200

linuxmuster-base7 (7.0.9-0ubuntu0) lmn7-testing; urgency=low

  * fix, create devices.csv on setup with 15 fields (#26).
  * fix, call: sophomorix-device --sync (#27).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sun, 15 Jul 2018 09:54:30 +0200

linuxmuster-base7 (7.0.8-0ubuntu0) lmn7-testing; urgency=low

  * fix opnsense's static wan configuration (#23).
  * root password fix for opnsense setup.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 13 Jul 2018 17:21:03 +0200

linuxmuster-base7 (7.0.7-2ubuntu0) lmn7-testing; urgency=low

  * fix netbiosname in setup dialog.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 13 Jul 2018 12:29:50 +0200

linuxmuster-base7 (7.0.7-1ubuntu0) lmn7-testing; urgency=low

  * fix sambadomain in setup dialog.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 13 Jul 2018 09:53:29 +0200

linuxmuster-base7 (7.0.7-0ubuntu0) lmn7-testing; urgency=low

  * remove share implementation (#29).
  * include smb.conf.admin for custom admin stuff.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 13 Jul 2018 09:53:29 +0200

linuxmuster-base7 (7.0.6-0ubuntu0) lmn7-testing; urgency=low

  * smb.conf certname fix (#28).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 03 Jul 2018 19:29:27 +0200

linuxmuster-base7 (7.0.5-5ubuntu0) lmn7-testing; urgency=low

  * fix sysvol path in smb.conf template.
  * fix logon script permissions.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 29 Jun 2018 18:24:19 +0200

linuxmuster-base7 (7.0.5-4ubuntu0) lmn7-testing; urgency=low

  * improved smb share definitions.
  * added acls for share folders.
  * added domain logon script for default-school.
  * minor setup script output improvements.
  * fix samba sysvol permissions.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 27 Jun 2018 14:45:50 +0200

linuxmuster-base7 (7.0.5-3ubuntu0) lmn7-testing; urgency=low

  * added school.conf template for default school.
  * improved test users creation script.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 27 Jun 2018 08:19:10 +0200

linuxmuster-base7 (7.0.5-2ubuntu0) lmn7-testing; urgency=low

  * setup: fixed smb shares definitions.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 27 Jun 2018 07:50:13 +0200

linuxmuster-base7 (7.0.5-1ubuntu0) lmn7-testing; urgency=low

  * setup: fixed ini read sequence.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 26 Jun 2018 16:54:52 +0200

linuxmuster-base7 (7.0.5-0ubuntu0) lmn7-testing; urgency=low

  * setup: added smb shares.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 26 Jun 2018 10:58:04 +0200

linuxmuster-base7 (7.0.4-1ubuntu0) lmn7-testing; urgency=low

  * linuxmuster-import-devices: fix bootimage not defined.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 20 Jun 2018 14:29:53 +0200

linuxmuster-base7 (7.0.4-0ubuntu0) lmn7-testing; urgency=low

  * linuxmuster-import-devices: additionally write pxe bootimage to device's dhcp options.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 18 Jun 2018 21:30:20 +0200

linuxmuster-base7 (7.0.3-3ubuntu0) lmn7-testing; urgency=low

  * linuxmuster-import-subnets: fix local variable 'gateway_xml' referenced before assignment.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 04 Jun 2018 20:52:47 +0200

linuxmuster-base7 (7.0.3-2ubuntu0) lmn7-testing; urgency=low

  * linuxmuster-import-subnets: do not create servernet route on opsi.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 04 Jun 2018 20:52:47 +0200

linuxmuster-base7 (7.0.3-1ubuntu0) lmn7-testing; urgency=low

  * linuxmuster-import-subnets: fixed timestamp has to be string.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 04 Jun 2018 20:52:47 +0200

linuxmuster-base7 (7.0.3-0ubuntu0) lmn7-testing; urgency=low

  * linuxmuster-import-subnets: added creation of subnet nat rules on firewall.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 04 Jun 2018 20:52:47 +0200

linuxmuster-base7 (7.0.2-0ubuntu0) lmn7-testing; urgency=low

  * linuxmuster-import-devices: fixed handling of lines with more than 11 fields.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 04 Jun 2018 20:52:47 +0200

linuxmuster-base7 (7.0.1-6ubuntu0) lmn7-testing; urgency=low

  * modified setup defaults for dhcp range:
    - bitmask <=16: x.x.255.1 - x.x.255.254,
    - bitmask >16 : x.x.x.201 - x.x.x.250.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 04 Jun 2018 20:52:47 +0200

linuxmuster-base7 (7.0.1-5ubuntu0) lmn7-testing; urgency=low

  * postinst firewall fullchain cert creation fix (#24).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 19 May 2018 23:32:00 +0200

linuxmuster-base7 (7.0.1-4ubuntu0) lmn7-testing; urgency=low

  * fixed addroute api call.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 19 May 2018 23:32:00 +0200

linuxmuster-base7 (7.0.1-3ubuntu0) lmn7-testing; urgency=low

  * exclude server network from subnet routing.
  * optimized firewall ssh connections.
  * added linuxmuster-webui7 to dependencies again.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 19 May 2018 17:02:03 +0200

linuxmuster-base7 (7.0.1-2ubuntu0) lmn7-testing; urgency=low

  * More subnetting improvements.
  * Added SubjectAltName to certificates.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 18 May 2018 19:56:13 +0200

linuxmuster-base7 (7.0.1-1ubuntu0) lmn7-testing; urgency=low

  * Improved subnetting.
  * Removed linuxmuster-webui7 from dependencies.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 16 May 2018 18:26:23 +0200

linuxmuster-base7 (7.0.1-0ubuntu0) lmn7-testing; urgency=low

  * Added subnetting feature.
  * Prepared firewall api access.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 15 May 2018 22:52:20 +0200

linuxmuster-base7 (7.0.0-48ubuntu0) lmn7-testing; urgency=low

  * Fix variable assignment in firewall setup script.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 09 May 2018 19:10:46 +0200

linuxmuster-base7 (7.0.0-47ubuntu0) lmn7-testing; urgency=low

  * Fix: Skip-Firewall not working in unattended mode (#20).
  * added linuxmuster-webui7 to package dependencies.
  * updated devices.csv man page (#16).
  * allowing 255 in second and third octett of an ip address.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 09 May 2018 19:10:46 +0200

linuxmuster-base7 (7.0.0-46ubuntu0) lmn7-testing; urgency=low

  * added python3-bs4 to package dependencies.
  * backing up opnsense config.xml with timestamp to cachedir.
  * saving ifrewall's original opt1 configuration if present.
  * renamed linuxmuster-prepare.py to linuxmuster-prepare.
  * updated create-testusers script to set setup password for testusers.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 04 May 2018 11:24:43 +0200

linuxmuster-base7 (7.0.0-45ubuntu0) lmn7-testing; urgency=low

  * fixed missing network in firewall config.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 03 May 2018 21:32:57 +0200

linuxmuster-base7 (7.0.0-44ubuntu0) lmn7-testing; urgency=low

  * added server role to appliance entries in devices.csv.
  * updated devices.csv man page.
  * fixed #12 -s Attribute error.
  * updated firewall config template for OPNsense 18.1.6 with web-proxy-sso plugin.
  * fixed OPNsense wan interface configuration (keeps existing one).
  * fixed #13 NameError: name 'adminpw_repeated' is not defined.
  * fixed #6 remove *.py from command line tools.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 03 May 2018 20:24:15 +0200

linuxmuster-base7 (7.0.0-43ubuntu0) lmn7-testing; urgency=low

  * added command line parameters for all setup values.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 28 Apr 2018 14:18:18 +0200

linuxmuster-base7 (7.0.0-42ubuntu0) lmn7-testing; urgency=low

  * added servername and domainname to setup again.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 28 Apr 2018 12:18:11 +0200

linuxmuster-base7 (7.0.0-41ubuntu0) lmn7-testing; urgency=low

  * remake of smb.conf certificate name fix.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 20 Apr 2018 18:37:04 +0200

linuxmuster-base7 (7.0.0-40ubuntu0) lmn7-testing; urgency=low

  * added share creation for default-school.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 20 Apr 2018 11:16:53 +0200

linuxmuster-base7 (7.0.0-39ubuntu0) lmn7-testing; urgency=low

  * smb.conf certificate name fix.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 19 Apr 2018 11:40:25 +0200

linuxmuster-base7 (7.0.0-38ubuntu0) lmn7-testing; urgency=low

  * systemd-resolved.service disabled.
  * resolv.conf fix.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 19 Apr 2018 09:11:20 +0200

linuxmuster-base7 (7.0.0-37ubuntu0) lmn7-testing; urgency=low

  * setup consolidation:
    - removed redundand items which are already served by
      linuxmuster-prepare.py.
    - merging prepare.ini and setup.ini at the beginning.
    - disable unwanted services.
  * sophomorix-admin password fix.
  * improved password input.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 18 Apr 2018 20:13:42 +0200

linuxmuster-base7 (7.0.0-36ubuntu0) lmn7-testing; urgency=low

  * removed sophomorix-admin.
  * disabled not needed samba services.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 04 Apr 2018 13:19:36 +0200

linuxmuster-base7 (7.0.0-35ubuntu0) lmn7-testing; urgency=low

  * network setup fixes.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 04 Apr 2018 13:19:36 +0200

linuxmuster-base7 (7.0.0-34ubuntu0) lmn7-testing; urgency=low

  * added quota support for test users.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sun, 25 Feb 2018 15:32:42 +0100

linuxmuster-base7 (7.0.0-33ubuntu0) lmn7-testing; urgency=low

  * setup:
    - fix syntax error in ssh function.
    - added opsi support.
    - updated default ssl certificate data.
  * linuxmuster-import-devices.py: fixed reading non utf-8 textfiles.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 15 Feb 2018 19:54:22 +0100

linuxmuster-base7 (7.0.0-32ubuntu0) lmn7-testing; urgency=low

  * setup:
    - added sophomorix samba backup.
    - removed dnsforwarder variable, use firewallip instead.
    - added ssl cert & key rollout for docker and opsi appliances.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 09 Feb 2018 19:41:10 +0100

linuxmuster-base7 (7.0.0-31ubuntu0) lmn7-testing; urgency=low

  * setup:
    - fixed deprecated variables.
    - improved ssh key deployment.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 30 Jan 2018 09:59:59 +0100

linuxmuster-base7 (7.0.0-30ubuntu0) lmn7-testing; urgency=low

  * setup:
    - removed network setup.
    - root password 'Muster!' is being expected on all associated appliances.
    - administrator password is being set as new root password on all associated appliances.
    - fixed serverip in prepare.ini.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 29 Jan 2018 15:24:32 +0100

linuxmuster-base7 (7.0.0-29ubuntu0) lmn7-testing; urgency=low

  * setup:
    - fixed obsolete gateway ip.
    - added evaluation of prepare.ini.
    - added internet group filter in firewall's config.xml.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 02 Dec 2017 21:49:12 +0100

linuxmuster-base7 (7.0.0-28ubuntu0) lmn7-testing; urgency=low

  * added docker and mailserver setup.
  * samba modifications for ubuntu 17.10.
  * fixed firewall interface handling.
  * more fixes.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 29 Nov 2017 21:36:51 +0100

linuxmuster-base7 (7.0.0-27ubuntu0) lmn7-testing; urgency=low

  * device import:
    - added support for partition labels.
    - fix grub disknr on efi/gpt partitions.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 14 Nov 2017 12:38:18 +0100

linuxmuster-base7 (7.0.0-26ubuntu0) lmn7-testing; urgency=low

  * setup improvements:
    - improved network interface detection.
  * added dependency to samba-dsdb-modules.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 16 Aug 2017 20:57:13 +0200

linuxmuster-base7 (7.0.0-25ubuntu0) lmn7-testing; urgency=low

  * setup improvements:
    - reworked ssl certificate creation.
    - configured certificates for various services.
    - netonly mode to configure the network initially.
    - improved network interface detection.
    - improved ssh link handling.
    - added firewall setup.
    - optimized sequence.
  * added script to create test users.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 16 Aug 2017 11:53:05 +0200

linuxmuster-base7 (7.0.0-24ubuntu0) lmn7-testing; urgency=low

  * changed bind-user to global-binduser.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 28 Jul 2017 10:32:01 +0200

linuxmuster-base7 (7.0.0-23ubuntu0) lmn7-testing; urgency=low

  * added grub stuff to constants.py.
  * added functions isValidMac() and getHostname() to functions.py.
  * added bind-user creation to setup.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 26 Jul 2017 18:10:26 +0200

linuxmuster-base7 (7.0.0-22ubuntu0) lmn7-testing; urgency=low

  * changed sophomorix syntax for creation of global-admin account.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Tue, 20 Jun 2017 15:48:59 +0200

linuxmuster-base7 (7.0.0-21ubuntu0) lmn7-testing; urgency=low

  * linuxmuster-import-devices.py:
    - process host specific dhcp options from field 8 of devices.csv.
    - create grub cfg links for every pxe host in LINBOGRUBDIR/hostcfg.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sun, 14 May 2017 13:49:16 +0200

linuxmuster-base7 (7.0.0-20ubuntu0) lmn7-testing; urgency=low

  * setup: added fstab mount options for /srv.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 28 Apr 2017 12:50:11 +0200

linuxmuster-base7 (7.0.0-19ubuntu0) lmn7-testing; urgency=low

  * setup smb.conf update, added global options 'registry shares = yes' and
    'host msdfs = yes'.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 26 Apr 2017 17:38:55 +0200

linuxmuster-base7 (7.0.0-18ubuntu0) lmn7-testing; urgency=low

  * linuxmuster-setup.py:
    - set all administrative passwords to noexpiry.
    - set default domain to linuxmuster.lan.
    - added notification to setup dialog that the first part of the internet domain name is used
      as samba domain name.
    - set configparser's inline_comment_prefixes to '#' & ';'.
    - fixed realm in setup dialog.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 26 Apr 2017 16:24:51 +0200

linuxmuster-base7 (7.0.0-17ubuntu0) lmn7-testing; urgency=low

  * linuxmuster-setup.py, j_linbo.py: added rsync service activation.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 05 Apr 2017 21:56:28 +0200

linuxmuster-base7 (7.0.0-16ubuntu0) lmn7-testing; urgency=low

  * linuxmuster-setup.py: fixed smb.conf deletion.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 05 Apr 2017 21:50:17 +0200

linuxmuster-base7 (7.0.0-15ubuntu0) lmn7-testing; urgency=low

  * changed LINBODIR to /srv/linbo.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Fri, 31 Mar 2017 16:41:33 +0200

linuxmuster-base7 (7.0.0-14ubuntu0) lmn7-testing; urgency=low

  * linuxmuster-setup.py:
    - compute sambadomain from first part of domainname.
    - added option to skip firewall setup.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 29 Mar 2017 11:07:14 +0200

linuxmuster-base7 (7.0.0-13ubuntu0) lmn7-testing; urgency=low

  * linuxmuster-setup.py: fixed missing old smb.conf deletion.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 25 Mar 2017 23:01:16 +0100

linuxmuster-base7 (7.0.0-12ubuntu0) lmn7-testing; urgency=low

  * linuxmuster-setup.py: fixed missing old smb.conf deletion.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 29 Mar 2017 09:56:13 +0200

linuxmuster-base7 (7.0.0-11ubuntu0) lmn7-testing; urgency=low

  * linuxmuster-setup.py: fixed opsi password query.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 25 Mar 2017 14:32:28 +0100

linuxmuster-base7 (7.0.0-10ubuntu0) lmn7-testing; urgency=low

  * functions.py, subProc: fixed returncodes.
  * linuxmuster-setup.py:
    - fixed logging of stderr.
    - optimized ini file handling.
    - removed deprecated lmn62 share definitions from smb.conf.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 25 Mar 2017 14:29:21 +0100

linuxmuster-base7 (7.0.0-9ubuntu0) lmn7-testing; urgency=low

  * import-devices: nvme partnr fix.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 18 Feb 2017 21:49:46 +0100

linuxmuster-base7 (7.0.0-8ubuntu0) lmn7-testing; urgency=low

  * added user example files.
  * fixed dhcp range.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 13 Feb 2017 20:27:17 +0100

linuxmuster-base7 (7.0.0-7ubuntu0) lmn7-testing; urgency=low

  * further setup improvements:
    - provide smb.conf with shares.
    - derive missing network values.
    - added opsi ssh link handling.
    - added devices.csv entry creation for firewall and opsi server.
    - setup dialog in english.
    - improved error handling and script output.
    - improved subprocess handling.
    - improved password handling.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sun, 12 Feb 2017 11:59:16 +0100

linuxmuster-base7 (7.0.0-6ubuntu0) lmn7-testing; urgency=low

  * improved console output
  * setup: improved password handling and admin user creation.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Mon, 06 Feb 2017 11:44:13 +0100

linuxmuster-base7 (7.0.0-5ubuntu0) lmn7-testing; urgency=low

  * setup: added creation of sophomorix-admin user.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 04 Feb 2017 21:13:11 +0100

linuxmuster-base7 (7.0.0-4ubuntu0) lmn7-testing; urgency=low

  * setup: activation linbo torrent per default.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 04 Feb 2017 17:25:06 +0100

linuxmuster-base7 (7.0.0-3ubuntu0) lmn7-testing; urgency=low

  * removed mail components.
  * setup:
    - splitted samba scripts.
    - added global-admin user creation.
  * added workstation import script (linuxmuster-import-devices.py).

 -- Thomas Schmitt <thomas@linuxmuster.net>  Sat, 04 Feb 2017 13:50:26 +0100

linuxmuster-base7 (7.0.0-2ubuntu0) lmn7-testing; urgency=low

  * improved handling of custom setup.ini.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 26 Jan 2017 20:55:30 +0100

linuxmuster-base7 (7.0.0-1ubuntu0) lmn7-testing; urgency=low

  * added -c|--config option to setup.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Thu, 26 Jan 2017 20:29:29 +0100

linuxmuster-base7 (7.0.0-0ubuntu0) lmn7-testing; urgency=low

  * initial release.

 -- Thomas Schmitt <thomas@linuxmuster.net>  Wed, 09 Nov 2016 17:14:33 +0100
